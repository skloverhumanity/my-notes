<!DOCTYPE html>
<html lang="mr">
<head>
    <meta charset="UTF-8">
    <title>AI Backtesting Mindmap</title>
    <style>
        body { font-family: sans-serif; text-align: center; background-color: #f0f4f8; padding: 20px; }
        .container { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); display: inline-block; max-width: 600px; width: 100%; }
        input { width: 90%; padding: 12px; margin: 10px 0; border: 2px solid #e0e0e0; border-radius: 8px; }
        button { width: 95%; padding: 12px; background-color: #1a73e8; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; }
        #status { margin-top: 20px; font-weight: bold; color: #1a73e8; }
        #mapResult { margin-top: 20px; max-width: 100%; border-radius: 10px; display: none; background: white; }
    </style>
</head>
<body>

<div class="container">
    <h2>üöÄ Backtesting AI Map (v2.0 Flash)</h2>
    <p>GRU ‡§Ü‡§£‡§ø LSTM ‡§Æ‡•â‡§°‡•á‡§≤‡•ç‡§∏‡§ö‡§æ ‡§µ‡•á‡§ó‡§µ‡§æ‡§® ‡§®‡§ï‡§æ‡§∂‡§æ</p>
    <input type="password" id="apiKey" placeholder="‡§§‡•Å‡§Æ‡§ö‡•Ä API Key ‡§ü‡§æ‡§ï‡§æ">
    <button onclick="generateMap()">‡§Æ‡•Ö‡§™ ‡§§‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡§æ ‚ú®</button>
    <div id="status">Ready</div>
</div>

<br>
<img id="mapResult" src="">

<script>
async function generateMap() {
    const key = document.getElementById('apiKey').value.trim();
    const status = document.getElementById('status');
    const img = document.getElementById('mapResult');

    status.innerText = "Processing... (Using Stable Model)";
    
    // ‡§Ü‡§™‡§£ ‡§Ü‡§§‡§æ 1.5-flash ‡§µ‡§æ‡§™‡§∞‡•Ç‡§Ø‡§æ, ‡§ú‡•ç‡§Ø‡§æ‡§ö‡•Ä ‡§´‡•ç‡§∞‡•Ä ‡§≤‡§ø‡§Æ‡§ø‡§ü ‡§ú‡§æ‡§∏‡•ç‡§§ ‡§Ö‡§∏‡§§‡•á
    const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${key}`;

    const prompt = "Create a mermaid mindmap for Backtesting Trading with GRU and LSTM. Focus on why GRU is faster. Give ONLY mermaid code.";

    try {
        const response = await fetch(url, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
        });

        const data = await response.json();

        if (data.candidates) {
            let code = data.candidates[0].content.parts[0].text.replace(/```mermaid|```/g, "").trim();
            const encoded = btoa(unescape(encodeURIComponent(code)));
            img.src = `https://kroki.io/mermaid/svg/${encoded}`;
            img.style.display = "block";
            status.innerText = "‡§Ø‡§∂‡§∏‡•ç‡§µ‡•Ä! ‚úÖ";
        } else {
            status.innerText = "‡§Ö‡§ú‡•Ç‡§®‡§π‡•Ä ‡§≤‡§ø‡§Æ‡§ø‡§ü‡§ö‡§æ ‡§™‡•ç‡§∞‡•â‡§¨‡•ç‡§≤‡•á‡§Æ ‡§Ü‡§π‡•á. ‡§•‡•ã‡§°‡•ç‡§Ø‡§æ ‡§µ‡•á‡§≥‡§æ‡§®‡•á ‡§™‡•ç‡§∞‡§Ø‡§§‡•ç‡§® ‡§ï‡§∞‡§æ.";
        }
    } catch (e) {
        status.innerText = "

</body>
</html>
