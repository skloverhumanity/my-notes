<!DOCTYPE html>
<html lang="mr">
<head>
    <meta charset="UTF-8">
    <title>Universal AI Mindmap</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; text-align: center; padding: 30px; background: #f4f7f9; }
        textarea { width: 80%; height: 150px; padding: 15px; border-radius: 10px; border: 1px solid #ccc; margin-bottom: 10px; }
        button { padding: 12px 25px; background: #2ecc71; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
        #loading { display: none; color: #1a73e8; margin-top: 10px; }
        #output { background: white; padding: 20px; border-radius: 15px; margin-top: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); min-height: 300px; }
    </style>
</head>
<body>

    <h1>üß† Universal AI Mindmap Creator</h1>
    <p>‡§ú‡§ó‡§æ‡§§‡•Ä‡§≤ ‡§ï‡•ã‡§£‡§§‡§æ‡§π‡•Ä ‡§Æ‡§ú‡§ï‡•Ç‡§∞ ‡§™‡•á‡§∏‡•ç‡§ü ‡§ï‡§∞‡§æ ‡§Ü‡§£‡§ø ‡§Æ‡•Ö‡§™ ‡§Æ‡§ø‡§≥‡§µ‡§æ!</p>
    
    <input type="password" id="hfKey" placeholder="‡§§‡•Å‡§Æ‡§ö‡•Ä Hugging Face Key ‡§ü‡§æ‡§ï‡§æ" style="padding:10px; margin-bottom:10px; width:300px;"><br>
    
    <textarea id="inputText" placeholder="‡§á‡§•‡•á ‡§ï‡•ã‡§£‡§§‡§æ‡§π‡•Ä ‡§Æ‡§ú‡§ï‡•Ç‡§∞ ‡§™‡•á‡§∏‡•ç‡§ü ‡§ï‡§∞‡§æ (‡§â‡§¶‡§æ. GRU vs LSTM ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä)"></textarea><br>
    
    <button onclick="askAI()">‡§Æ‡•Ö‡§™ ‡§§‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡§æ ‚ú®</button>
    <div id="loading">AI ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§ï‡§∞‡§§ ‡§Ü‡§π‡•á... ‡§ï‡•É‡§™‡§Ø‡§æ ‡§•‡§æ‡§Ç‡§¨‡§æ...</div>

    <div id="output" class="mermaid"></div>

    <script>
        mermaid.initialize({ startOnLoad: true });

        async function askAI() {
            const key = document.getElementById('hfKey').value;
            const text = document.getElementById('inputText').value;
            const loading = document.getElementById('loading');
            const output = document.getElementById('output');

            if(!key || !text) { alert("Key ‡§Ü‡§£‡§ø Text ‡§¶‡•ã‡§®‡•ç‡§π‡•Ä ‡§ü‡§æ‡§ï‡§æ!"); return; }

            loading.style.display = "block";

            try {
                // ‡§Ü‡§™‡§£ Mistral-7B ‡§π‡•á ‡§Æ‡•ã‡§´‡§§ ‡§Ü‡§£‡§ø ‡§∂‡§ï‡•ç‡§§‡§ø‡§∂‡§æ‡§≤‡•Ä ‡§Æ‡•â‡§°‡•á‡§≤ ‡§µ‡§æ‡§™‡§∞‡§§ ‡§Ü‡§π‡•ã‡§§
                const response = await fetch("https://api-inference.huggingface.co/models/mistralai/Mistral-7B-Instruct-v0.2", {
                    method: "POST",
                    headers: { 
                        "Authorization": `Bearer ${key}`,
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        inputs: `[INST] Create a mermaid.js mindmap code for the following text. Start with 'mindmap' and focus on key points. Give ONLY code: ${text} [/INST]`
                    })
                });

                const data = await response.json();
                let result = data[0].generated_text;
                
                // ‡§´‡§ï‡•ç‡§§ Mermaid ‡§ï‡•ã‡§° ‡§µ‡•á‡§ó‡§≥‡§æ ‡§ï‡§æ‡§¢‡§£‡•á
                let cleanCode = result.split("mindmap")[1];
                cleanCode = "mindmap" + cleanCode.split("`")[0];

                output.removeAttribute('data-processed');
                output.innerHTML = cleanCode;
                await mermaid.run({ nodes: [output] });
                
                loading.style.display = "none";
            } catch (e) {
                alert("Error: Hugging Face ‡§ï‡§¶‡§æ‡§ö‡§ø‡§§ ‡§¨‡§ø‡§ù‡•Ä ‡§Ü‡§π‡•á, ‡§™‡•Å‡§®‡•ç‡§π‡§æ ‡§ü‡•ç‡§∞‡§æ‡§Ø ‡§ï‡§∞‡§æ.");
                loading.style.display = "none";
            }
        }
    </script>
</body>
</html>
